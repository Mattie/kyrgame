# Legacy: legacy/KYRROUS.C:1271-1290 (truthy)
id: 280
name: truthy
spoiler_summary: "Truth maze where seeking truth can wound or reward level 18 seekers."
spoiler_interaction: "Seek truth to attempt the level 18 ascension if you hold the golden key; half the time the maze lashes back."
legacy_ref: "legacy/KYRROUS.C:1271-1290"
triggers:
  - verbs: [seek]
    arg_strip: [the]
    arg_matches:
      - index: 0
        value: truth
    actions:
      - type: level_gate
        target_level: 18
        level_up: false
        requires_item: key
        # Legacy chklvl gate (key + level 17) before random outcome. (legacy/KYRROUS.C:1275-1286)
        on_missing_item:
          - type: message
            message_id: NPAY00
            broadcast_message_id: NPAY01
            broadcast_format: [player_altnam]
        on_success:
          - type: random_chance
            probability: 0.5
            on_success:
              # 50% damage branch: TRUM01 + hitoth(100). (legacy/KYRROUS.C:1277-1281)
              - type: message
                message_id: TRUM01
              - type: damage
                amount: 100
            on_failure:
              # 50% reward branch: msgutl2(TRUM02, TRUM03) + glvutl(). (legacy/KYRROUS.C:1282-1285)
              - type: message
                message_id: TRUM02
                broadcast_message_id: TRUM03
                broadcast_format: [player_altnam]
              - type: level_up
        on_too_high:
          # Over-leveled: msgutl2(LVLM00, LVLM01). (legacy/KYRROUS.C:1436-1452)
          - type: message
            message_id: LVLM00
            broadcast_message_id: LVLM01
            broadcast_format: [player_altnam]
        on_too_low:
          # Under-leveled: msgutl2(LVLM02, LVLM03). (legacy/KYRROUS.C:1436-1452)
          - type: message
            message_id: LVLM02
            broadcast_message_id: LVLM03
            broadcast_format: [player_altnam]
