id: 14
name: gpcone
# Room summary: Pine glade where players reach for pinecones amid fallen needles.
# Mechanics: get/grab/pick/take pinecone has a 40% success roll, then grants a pinecone if inventory space remains; misses or full packs yield failure text.
# Tone: lighthearted fumbling with pine trees, celebrating a successful grab or noting a miss.
# Legacy: legacy/KYRROUS.C lines 492-509
triggers:
  - verbs: [get, grab, pick, take]
    target_in: [pinecone]
    actions:
      - type: random_chance
        probability: 0.4
        on_success:
          - type: conditional
            conditions:
              - inventory_lt: 6
            then:
              - type: grant_object
                object: pinecone
              - type: message
                scope: direct
                message_id: PINEC0
              - type: message
                scope: broadcast
                message_id: PINEC1
                format: [player_altnam]
            else:
              - type: message
                scope: direct
                message_id: PINEC2
              - type: message
                scope: broadcast
                message_id: PINEC3
                format: [player_altnam]
        on_failure:
          - type: message
            scope: direct
            message_id: PINEC2
          - type: message
            scope: broadcast
            message_id: PINEC3
            format: [player_altnam]

